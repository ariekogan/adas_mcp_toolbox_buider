# Identity Gateway — MCP Server

Generated by ADAS MCP Toolbox Builder.

> Users need to be identified and verified before accessing the scheduling system, whether they are internal team members or external customers.

## Tools

1. **identity.user.lookup** — Look up a user by email address. Returns verified user ID, type (team_member or customer), and profile.
   - Inputs: `email` (string, **required**)

## Quick Start

### Run Locally

```bash
pip install -r requirements.txt
python mcp_server.py
```

### Run with Docker

```bash
docker build -t identity-gateway-mcp .
docker run -p 8000:8000 identity-gateway-mcp
```

### Add to Claude Desktop

Add to `~/.claude/config.json`:

```json
{
  "mcpServers": {
    "identity-gateway": {
      "command": "python",
      "args": ["/path/to/mcp_server.py"]
    }
  }
}
```

## Connector Setup

This skill uses the following connectors (MCP servers):

### Identity MCP



- **Auth Required:** No
- **Config file:** `connectors/identity-mcp/connector.yaml`
- **Env template:** `connectors/identity-mcp/.env.example`

## ADAS Core Deployment

### Option 1: Direct Deploy (Recommended)

Use the Skill Builder UI "Deploy to ADAS" button — this handles skill import
and connector registration automatically.

### Option 2: Manual Import

```bash
# 1. Import the skill
curl -X POST http://<adas-core>:4000/api/skills/import \
  -H "Content-Type: application/json" \
  -d @adas_payload.json

# 2. Register each connector (if applicable)
curl -X POST http://<adas-core>:4000/api/connectors \
  -H "Content-Type: application/json" \
  -d @connectors/identity-mcp/connector.yaml
```

## Making Connectors UI-Enabled in ADAS Admin

Each `connector.yaml` includes a `ui` section that defines how the connector
appears in the ADAS Admin settings panel:

```yaml
ui:
  icon: mail              # Icon name for the connector card
  color: "#EA4335"        # Brand color
  category: communication # Grouping in the connector catalog
  settings_schema:        # Form fields shown in Admin UI
    - field: EMAIL_USER
      type: string        # string | password | number | boolean
      required: true
      label: Gmail Address
      placeholder: you@gmail.com
      hint: Your full Gmail email address
```

The `settings_schema` array tells ADAS Admin how to render a configuration
form. Users fill in the fields, and ADAS Core stores the values as encrypted
credentials mapped to the connector's environment variables.

## Testing

### Test with MCP CLI

```bash
echo '{"jsonrpc":"2.0","id":"1","method":"tools/list","params":{}}' | python mcp_server.py
```

### Test a Specific Tool

```bash
echo '{"jsonrpc":"2.0","id":"2","method":"tools/call","params":{"name":"<tool_name>","arguments":{}}}' | python mcp_server.py
```

## File Structure

```
├── skill.yaml                    # Skill configuration
├── mcp_server.py                 # MCP server implementation
├── requirements.txt              # Python dependencies
├── Dockerfile                    # Container build
├── claude_desktop_config.json    # Claude Desktop config snippet
├── README.md                     # This file
└── connectors/
    └── identity-mcp/
        ├── connector.yaml    # Connector config for ADAS
        └── .env.example      # Environment variable template
```

## Customization

The generated code includes mock implementations based on your examples.
Replace the mock logic with actual implementations for production use.
